{
  "name": "Moleculer Database benchmark - Common",
  "description": "This is a common benchmark which create, list, get, update, replace and delete entities via service actions.",
  "meta": {
    "type": "common",
    "adapters": [
      {
        "name": "NeDB (memory)",
        "type": "NeDB"
      },
      {
        "name": "MongoDB",
        "ref": true,
        "type": "MongoDB",
        "options": {
          "dbName": "bench_test",
          "collection": "users"
        }
      },
      {
        "name": "Knex SQLite (memory)",
        "type": "Knex",
        "options": {
          "knex": {
            "client": "sqlite3",
            "connection": {
              "filename": ":memory:"
            },
            "useNullAsDefault": true,
            "log": {}
          }
        }
      },
      {
        "name": "Knex-Postgresql",
        "type": "Knex",
        "options": {
          "knex": {
            "client": "pg",
            "connection": {
              "host": "127.0.0.1",
              "port": 5432,
              "user": "postgres",
              "password": "moleculer",
              "database": "bench_test"
            }
          }
        }
      }
    ],
    "count": 1000
  },
  "suites": [
    {
      "name": "Entity creation",
      "description": "This test calls the `create` action to create an entity.",
      "meta": {
        "type": "create"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.059941328,
            "cycle": 0,
            "count": 38000,
            "avg": 0.0001331563507368421,
            "rps": 7509.968502939131,
            "percent": 615.9979154011249
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.720380173,
            "cycle": 0,
            "count": 6000,
            "avg": 0.0009533966955,
            "rps": 1048.8813362999538,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.015911564,
            "cycle": 0,
            "count": 6000,
            "avg": 0.0008359852606666666,
            "rps": 1196.193338627212,
            "percent": 14.04467762262962
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 6.985898134,
            "cycle": 0,
            "count": 3000,
            "avg": 0.0023286327113333336,
            "rps": 429.4365509567277,
            "percent": -59.05766113909385
          }
        }
      ]
    },
    {
      "name": "Entity finding",
      "description": "This test calls the `find` action to get random 20 entities.",
      "meta": {
        "type": "find"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.508628646,
            "cycle": 0,
            "count": 10000,
            "avg": 0.0005508628646,
            "rps": 1815.3338412567227,
            "percent": 161.13268740569953
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.753932009,
            "cycle": 0,
            "count": 4000,
            "avg": 0.0014384830022499998,
            "rps": 695.176792798978,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.330920725,
            "cycle": 0,
            "count": 7000,
            "avg": 0.0007615601035714287,
            "rps": 1313.0939965347168,
            "percent": 88.88633943717105
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 5.049211479,
            "cycle": 0,
            "count": 5000,
            "avg": 0.0010098422958,
            "rps": 990.2536308481683,
            "percent": 42.446301589143616
          }
        }
      ]
    },
    {
      "name": "Entity listing",
      "description": "This test calls the `users.list` service action to random 20 entities.",
      "meta": {
        "type": "list"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "stat": {
            "duration": 6.804535566,
            "cycle": 0,
            "count": 3000,
            "avg": 0.002268178522,
            "rps": 440.8824042290265,
            "percent": 27.38809844439571
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.778778977,
            "cycle": 0,
            "count": 2000,
            "avg": 0.0028893894885,
            "rps": 346.0938734566868,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.298133104,
            "cycle": 0,
            "count": 5000,
            "avg": 0.0010596266207999999,
            "rps": 943.7286496681418,
            "percent": 172.6799640347428
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 5.266937318,
            "cycle": 0,
            "count": 3000,
            "avg": 0.0017556457726666667,
            "rps": 569.5909821723836,
            "percent": 64.5770196633276
          }
        }
      ]
    },
    {
      "name": "Entity counting",
      "description": "This test calls the `users.count` service action to get the number of entities.",
      "meta": {
        "type": "count"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "stat": {
            "duration": 5.279153128,
            "cycle": 0,
            "count": 3000,
            "avg": 0.0017597177093333332,
            "rps": 568.2729648602835,
            "percent": -19.11565166385529
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.693344807,
            "cycle": 0,
            "count": 4000,
            "avg": 0.00142333620175,
            "rps": 702.5746965267197,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.16610225,
            "cycle": 0,
            "count": 17000,
            "avg": 0.00030388836764705883,
            "rps": 3290.6820611225803,
            "percent": 368.37469060450746
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 5.317160803,
            "cycle": 0,
            "count": 7000,
            "avg": 0.0007595944004285714,
            "rps": 1316.4920639696516,
            "percent": 87.38108139645817
          }
        }
      ]
    },
    {
      "name": "Entity getting",
      "description": "This test calls the `users.get` service action to get a random entity.",
      "meta": {
        "type": "get"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.044562827,
            "cycle": 0,
            "count": 74000,
            "avg": 0.00006816976793243244,
            "rps": 14669.259267409656,
            "percent": 1046.6752887592265
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.471801183,
            "cycle": 0,
            "count": 7000,
            "avg": 0.0007816858832857143,
            "rps": 1279.286247049302,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.329291996,
            "cycle": 0,
            "count": 13000,
            "avg": 0.0004099455381538462,
            "rps": 2439.3484180933215,
            "percent": 90.68042228388876
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 5.491401338,
            "cycle": 0,
            "count": 7000,
            "avg": 0.0007844859054285714,
            "rps": 1274.72016142048,
            "percent": -0.35692446779238196
          }
        }
      ]
    },
    {
      "name": "Entity resolving",
      "description": "This test calls the `users.resolve` service action to resolve a random entity.",
      "meta": {
        "type": "resolve"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.004632254,
            "cycle": 0,
            "count": 74000,
            "avg": 0.00006763016559459458,
            "rps": 14786.301219406241,
            "percent": 1072.0981556117695
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.548843465,
            "cycle": 0,
            "count": 7000,
            "avg": 0.0007926919235714285,
            "rps": 1261.5241435721416,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.235700207,
            "cycle": 0,
            "count": 15000,
            "avg": 0.0003490466804666667,
            "rps": 2864.946312232579,
            "percent": 127.10198031725136
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 5.291840762,
            "cycle": 0,
            "count": 7000,
            "avg": 0.0007559772517142857,
            "rps": 1322.7911259662353,
            "percent": 4.85658421253909
          }
        }
      ]
    },
    {
      "name": "Entity updating",
      "description": "This test calls the `users.update` service action to update a entity.",
      "meta": {
        "type": "update"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.024873001,
            "cycle": 0,
            "count": 23000,
            "avg": 0.00021847273917391301,
            "rps": 4577.230110178461,
            "percent": 642.9985732489162
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 6.49299734,
            "cycle": 0,
            "count": 4000,
            "avg": 0.001623249335,
            "rps": 616.0483041257492,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.490278795,
            "cycle": 0,
            "count": 5000,
            "avg": 0.001098055759,
            "rps": 910.7005648881625,
            "percent": 47.82940863388342
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 5.789294301,
            "cycle": 0,
            "count": 2000,
            "avg": 0.0028946471505,
            "rps": 345.4652494785996,
            "percent": -43.922376351825406
          }
        }
      ]
    },
    {
      "name": "Entity replacing",
      "description": "This test calls the `users.replace` service action to replace a random entity.",
      "meta": {
        "type": "replace"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.07460013,
            "cycle": 0,
            "count": 24000,
            "avg": 0.00021144167208333336,
            "rps": 4729.43668174304,
            "percent": 725.1279955727271
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.233993292,
            "cycle": 0,
            "count": 3000,
            "avg": 0.0017446644306666668,
            "rps": 573.1761262639386,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.96626384,
            "cycle": 0,
            "count": 5000,
            "avg": 0.001193252768,
            "rps": 838.0454056487049,
            "percent": 46.21080105189134
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 6.433467973,
            "cycle": 0,
            "count": 2000,
            "avg": 0.0032167339865,
            "rps": 310.8743228991901,
            "percent": -45.7628626430199
          }
        }
      ]
    }
  ],
  "timestamp": 1618679677663,
  "generated": "Sat Apr 17 2021 19:14:37 GMT+0200 (Central European Summer Time)",
  "elapsedMs": 185806
}