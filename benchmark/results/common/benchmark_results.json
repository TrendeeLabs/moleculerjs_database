{
  "name": "Moleculer Database benchmark - Common",
  "description": "This is a common benchmark which create, list, get, update, replace and delete entities via service actions.",
  "meta": {
    "type": "common",
    "adapters": [
      {
        "name": "NeDB (memory)",
        "type": "NeDB"
      },
      {
        "name": "MongoDB",
        "ref": true,
        "type": "MongoDB",
        "options": {
          "dbName": "bench_test",
          "collection": "users"
        }
      },
      {
        "name": "Knex SQLite (memory)",
        "type": "Knex",
        "options": {
          "knex": {
            "client": "sqlite3",
            "connection": {
              "filename": ":memory:"
            },
            "useNullAsDefault": true,
            "log": {}
          }
        }
      },
      {
        "name": "Knex-Postgresql",
        "type": "Knex",
        "options": {
          "knex": {
            "client": "pg",
            "connection": {
              "host": "127.0.0.1",
              "port": 5432,
              "user": "postgres",
              "password": "moleculer",
              "database": "bench_test"
            }
          }
        }
      },
      {
        "name": "Knex-MySQL",
        "type": "Knex",
        "options": {
          "knex": {
            "client": "mysql",
            "connection": {
              "host": "127.0.0.1",
              "user": "root",
              "password": "moleculer",
              "database": "bench_test"
            },
            "log": {}
          }
        }
      },
      {
        "name": "Knex-MySQL2",
        "type": "Knex",
        "options": {
          "knex": {
            "client": "mysql2",
            "connection": {
              "host": "127.0.0.1",
              "user": "root",
              "password": "moleculer",
              "database": "bench_test"
            },
            "log": {}
          }
        }
      },
      {
        "name": "Knex-MSSQL",
        "type": "Knex",
        "options": {
          "knex": {
            "client": "mssql",
            "connection": {
              "host": "127.0.0.1",
              "port": 1433,
              "user": "sa",
              "password": "Moleculer@Pass1234",
              "database": "bench_test",
              "encrypt": false
            }
          }
        }
      }
    ],
    "count": 1000
  },
  "suites": [
    {
      "name": "Entity creation",
      "description": "This test calls the `create` action to create an entity.",
      "meta": {
        "type": "create"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.014001478,
            "cycle": 0,
            "count": 68000,
            "avg": 0.00007373531585294117,
            "rps": 13562.02232854627,
            "percent": 787.7877795771165
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.236904987,
            "cycle": 0,
            "count": 8000,
            "avg": 0.000654613123375,
            "rps": 1527.619847955817,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.076767901,
            "cycle": 0,
            "count": 6000,
            "avg": 0.0008461279835,
            "rps": 1181.8543051412978,
            "percent": -22.634266193726475
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 5.048314561,
            "cycle": 0,
            "count": 3000,
            "avg": 0.0016827715203333333,
            "rps": 594.2577396377104,
            "percent": -61.09910849659909
          }
        },
        {
          "name": "Knex-MySQL",
          "meta": {},
          "stat": {
            "duration": 7.291106281,
            "cycle": 0,
            "count": 2000,
            "avg": 0.0036455531405000003,
            "rps": 274.3067955560913,
            "percent": -82.04351717980396
          }
        },
        {
          "name": "Knex-MySQL2",
          "meta": {},
          "stat": {
            "duration": 7.207009839,
            "cycle": 0,
            "count": 2000,
            "avg": 0.0036035049195,
            "rps": 277.5075995008642,
            "percent": -81.83398835304406
          }
        },
        {
          "name": "Knex-MSSQL",
          "meta": {},
          "stat": {
            "duration": 5.42315248,
            "cycle": 0,
            "count": 1000,
            "avg": 0.0054231524799999995,
            "rps": 184.39459404615525,
            "percent": -87.92928788579812
          }
        }
      ]
    },
    {
      "name": "Entity finding",
      "description": "This test calls the `find` action to get random 20 entities.",
      "meta": {
        "type": "find"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.131909151,
            "cycle": 0,
            "count": 19000,
            "avg": 0.00027010048163157897,
            "rps": 3702.3258676155,
            "percent": 252.46060333398657
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.711986723,
            "cycle": 0,
            "count": 6000,
            "avg": 0.0009519977871666666,
            "rps": 1050.4226096745429,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.004026492,
            "cycle": 0,
            "count": 9000,
            "avg": 0.0005560029435555556,
            "rps": 1798.551629250647,
            "percent": 71.22171711516191
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 5.513972465,
            "cycle": 0,
            "count": 8000,
            "avg": 0.000689246558125,
            "rps": 1450.8596208595684,
            "percent": 38.121514854777814
          }
        },
        {
          "name": "Knex-MySQL",
          "meta": {},
          "stat": {
            "duration": 5.707031905,
            "cycle": 0,
            "count": 6000,
            "avg": 0.0009511719841666667,
            "rps": 1051.3345815963157,
            "percent": 0.08681952514859859
          }
        },
        {
          "name": "Knex-MySQL2",
          "meta": {},
          "stat": {
            "duration": 5.405885216,
            "cycle": 0,
            "count": 6000,
            "avg": 0.0009009808693333333,
            "rps": 1109.9014796395559,
            "percent": 5.6623752589866285
          }
        },
        {
          "name": "Knex-MSSQL",
          "meta": {},
          "stat": {
            "duration": 6.156492781,
            "cycle": 0,
            "count": 4000,
            "avg": 0.0015391231952499999,
            "rps": 649.7205701831879,
            "percent": -38.14674549089402
          }
        }
      ]
    },
    {
      "name": "Entity listing",
      "description": "This test calls the `users.list` service action to random 20 entities.",
      "meta": {
        "type": "list"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "stat": {
            "duration": 5.747084282,
            "cycle": 0,
            "count": 4000,
            "avg": 0.0014367710705,
            "rps": 696.0051051501179,
            "percent": 58.7327805493515
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 6.841880011,
            "cycle": 0,
            "count": 3000,
            "avg": 0.002280626670333333,
            "rps": 438.4759737348162,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.321873573,
            "cycle": 0,
            "count": 5000,
            "avg": 0.0010643747146000001,
            "rps": 939.5187486916273,
            "percent": 114.26915155443257
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 6.219765252,
            "cycle": 0,
            "count": 4000,
            "avg": 0.001554941313,
            "rps": 643.1110882703776,
            "percent": 46.66962998965178
          }
        },
        {
          "name": "Knex-MySQL",
          "meta": {},
          "stat": {
            "duration": 5.5121975899999995,
            "cycle": 0,
            "count": 2000,
            "avg": 0.0027560987949999997,
            "rps": 362.831695951596,
            "percent": -17.25163573705153
          }
        },
        {
          "name": "Knex-MySQL2",
          "meta": {},
          "stat": {
            "duration": 7.538545483,
            "cycle": 0,
            "count": 3000,
            "avg": 0.002512848494333333,
            "rps": 397.95475224832575,
            "percent": -9.241377843657432
          }
        },
        {
          "name": "Knex-MSSQL",
          "meta": {},
          "stat": {
            "duration": 6.052430032,
            "cycle": 0,
            "count": 2000,
            "avg": 0.003026215016,
            "rps": 330.4457861430425,
            "percent": -24.63765270229122
          }
        }
      ]
    },
    {
      "name": "Entity counting",
      "description": "This test calls the `users.count` service action to get the number of entities.",
      "meta": {
        "type": "count"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "stat": {
            "duration": 5.3184019750000004,
            "cycle": 0,
            "count": 6000,
            "avg": 0.0008864003291666668,
            "rps": 1128.158425821132,
            "percent": 10.871735132431382
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.896604551,
            "cycle": 0,
            "count": 6000,
            "avg": 0.0009827674251666667,
            "rps": 1017.5347436148596,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.115245784,
            "cycle": 0,
            "count": 13000,
            "avg": 0.00039348044492307693,
            "rps": 2541.422357584998,
            "percent": 149.7627106624808
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 5.215900983,
            "cycle": 0,
            "count": 9000,
            "avg": 0.0005795445536666666,
            "rps": 1725.4928782838053,
            "percent": 69.57581931343961
          }
        },
        {
          "name": "Knex-MySQL",
          "meta": {},
          "stat": {
            "duration": 5.749554101,
            "cycle": 0,
            "count": 4000,
            "avg": 0.0014373885252500001,
            "rps": 695.7061242895851,
            "percent": -31.628268355924334
          }
        },
        {
          "name": "Knex-MySQL2",
          "meta": {},
          "stat": {
            "duration": 6.510457858,
            "cycle": 0,
            "count": 4000,
            "avg": 0.0016276144645,
            "rps": 614.3961127226761,
            "percent": -39.61915142671265
          }
        },
        {
          "name": "Knex-MSSQL",
          "meta": {},
          "stat": {
            "duration": 5.598821781,
            "cycle": 0,
            "count": 5000,
            "avg": 0.0011197643562,
            "rps": 893.045036183837,
            "percent": -12.234442923173773
          }
        }
      ]
    },
    {
      "name": "Entity getting",
      "description": "This test calls the `users.get` service action to get a random entity.",
      "meta": {
        "type": "get"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.025939247,
            "cycle": 0,
            "count": 143000,
            "avg": 0.0000351464283006993,
            "rps": 28452.393268652657,
            "percent": 1623.6600049221054
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.45224435,
            "cycle": 0,
            "count": 9000,
            "avg": 0.0006058049277777778,
            "rps": 1650.6963779053667,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.257418246,
            "cycle": 0,
            "count": 13000,
            "avg": 0.00040441678815384617,
            "rps": 2472.69655783821,
            "percent": 49.79717596375366
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 5.27493068,
            "cycle": 0,
            "count": 9000,
            "avg": 0.0005861034088888888,
            "rps": 1706.1835587951273,
            "percent": 3.3614407611513855
          }
        },
        {
          "name": "Knex-MySQL",
          "meta": {},
          "stat": {
            "duration": 5.351737459,
            "cycle": 0,
            "count": 8000,
            "avg": 0.000668967182375,
            "rps": 1494.8416399886032,
            "percent": -9.441756824748936
          }
        },
        {
          "name": "Knex-MySQL2",
          "meta": {},
          "stat": {
            "duration": 5.285421467,
            "cycle": 0,
            "count": 9000,
            "avg": 0.0005872690518888889,
            "rps": 1702.7970344829266,
            "percent": 3.1562834495143477
          }
        },
        {
          "name": "Knex-MSSQL",
          "meta": {},
          "stat": {
            "duration": 6.174835019,
            "cycle": 0,
            "count": 5000,
            "avg": 0.0012349670038,
            "rps": 809.7382334289052,
            "percent": -50.945658797869676
          }
        }
      ]
    },
    {
      "name": "Entity resolving",
      "description": "This test calls the `users.resolve` service action to resolve a random entity.",
      "meta": {
        "type": "resolve"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.015237954,
            "cycle": 0,
            "count": 132000,
            "avg": 0.00003799422692424242,
            "rps": 26319.788056062396,
            "percent": 1667.5446857072502
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.372519511,
            "cycle": 0,
            "count": 8000,
            "avg": 0.000671564938875,
            "rps": 1489.0592735159635,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.435257466,
            "cycle": 0,
            "count": 12000,
            "avg": 0.0004529381221666667,
            "rps": 2207.807095628025,
            "percent": 48.2685837223226
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 5.195197468,
            "cycle": 0,
            "count": 8000,
            "avg": 0.0006493996835,
            "rps": 1539.88371939205,
            "percent": 3.413191588812964
          }
        },
        {
          "name": "Knex-MySQL",
          "meta": {},
          "stat": {
            "duration": 5.369782987,
            "cycle": 0,
            "count": 8000,
            "avg": 0.000671222873375,
            "rps": 1489.8181210241896,
            "percent": 0.05096153804772996
          }
        },
        {
          "name": "Knex-MySQL2",
          "meta": {},
          "stat": {
            "duration": 5.196263519,
            "cycle": 0,
            "count": 9000,
            "avg": 0.0005773626132222222,
            "rps": 1732.0137762628353,
            "percent": 16.315972578660904
          }
        },
        {
          "name": "Knex-MSSQL",
          "meta": {},
          "stat": {
            "duration": 5.788525325,
            "cycle": 0,
            "count": 5000,
            "avg": 0.001157705065,
            "rps": 863.7778569276622,
            "percent": -41.9917076310796
          }
        }
      ]
    },
    {
      "name": "Entity updating",
      "description": "This test calls the `users.update` service action to update a entity.",
      "meta": {
        "type": "update"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.098759005,
            "cycle": 0,
            "count": 38000,
            "avg": 0.00013417786855263156,
            "rps": 7452.793898032057,
            "percent": 917.5480654728453
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.461297223,
            "cycle": 0,
            "count": 4000,
            "avg": 0.00136532430575,
            "rps": 732.4267178051006,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.219469038,
            "cycle": 0,
            "count": 4000,
            "avg": 0.0013048672595,
            "rps": 766.3614767859076,
            "percent": 4.633195124626383
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 6.813838928,
            "cycle": 0,
            "count": 3000,
            "avg": 0.0022712796426666666,
            "rps": 440.2804398078956,
            "percent": -39.887441418398026
          }
        },
        {
          "name": "Knex-MySQL",
          "meta": {},
          "stat": {
            "duration": 7.1732503,
            "cycle": 0,
            "count": 2000,
            "avg": 0.0035866251500000002,
            "rps": 278.813636267509,
            "percent": -61.93289656294302
          }
        },
        {
          "name": "Knex-MySQL2",
          "meta": {},
          "stat": {
            "duration": 6.692952969,
            "cycle": 0,
            "count": 2000,
            "avg": 0.0033464764845,
            "rps": 298.82176212256,
            "percent": -59.201138508702414
          }
        },
        {
          "name": "Knex-MSSQL",
          "meta": {},
          "stat": {
            "duration": 5.309324667,
            "cycle": 0,
            "count": 1000,
            "avg": 0.005309324667,
            "rps": 188.3478714751576,
            "percent": -74.28440731386902
          }
        }
      ]
    },
    {
      "name": "Entity replacing",
      "description": "This test calls the `users.replace` service action to replace a random entity.",
      "meta": {
        "type": "replace"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.021720878,
            "cycle": 0,
            "count": 38000,
            "avg": 0.00013215054942105264,
            "rps": 7567.127071215128,
            "percent": 928.6192525912031
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.437303975,
            "cycle": 0,
            "count": 4000,
            "avg": 0.00135932599375,
            "rps": 735.6587048271474,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 6.118194326,
            "cycle": 0,
            "count": 5000,
            "avg": 0.0012236388652,
            "rps": 817.2345848434236,
            "percent": 11.088821416915536
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 6.533037255,
            "cycle": 0,
            "count": 3000,
            "avg": 0.002177679085,
            "rps": 459.2044837497257,
            "percent": -37.57914087924485
          }
        },
        {
          "name": "Knex-MySQL",
          "meta": {},
          "stat": {
            "duration": 6.886887658,
            "cycle": 0,
            "count": 2000,
            "avg": 0.003443443829,
            "rps": 290.40694422781013,
            "percent": -60.52422919456312
          }
        },
        {
          "name": "Knex-MySQL2",
          "meta": {},
          "stat": {
            "duration": 6.140561057,
            "cycle": 0,
            "count": 2000,
            "avg": 0.0030702805285,
            "rps": 325.70313712947745,
            "percent": -55.72632594539806
          }
        },
        {
          "name": "Knex-MSSQL",
          "meta": {},
          "stat": {
            "duration": 6.266479436,
            "cycle": 0,
            "count": 1000,
            "avg": 0.006266479436,
            "rps": 159.57923587128485,
            "percent": -78.30797966174
          }
        }
      ]
    },
    {
      "name": "Entity deleting",
      "description": "This test calls the `users.remove` service action to delete a random entity.",
      "meta": {
        "type": "remove"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "stat": {
            "duration": 37.487621924,
            "cycle": 0,
            "count": 103689,
            "avg": 0.00036153904391015445,
            "rps": 2765.952991369056,
            "percent": -53.08004006605269
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "fastest": true,
          "reference": true,
          "stat": {
            "duration": 8.251166156,
            "cycle": 0,
            "count": 48641,
            "avg": 0.00016963397454822064,
            "rps": 5895.04550997676,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 26.957559238,
            "cycle": 0,
            "count": 15345,
            "avg": 0.0017567650203975237,
            "rps": 569.2280916281668,
            "percent": -90.34395763926153
          }
        },
        {
          "name": "Knex-Postgresql",
          "meta": {},
          "stat": {
            "duration": 11.817968137,
            "cycle": 0,
            "count": 44611,
            "avg": 0.0002649115271345632,
            "rps": 3774.845174978153,
            "percent": -35.96580096642825
          }
        },
        {
          "name": "Knex-MySQL",
          "meta": {},
          "stat": {
            "duration": 6.862042956,
            "cycle": 0,
            "count": 10660,
            "avg": 0.0006437188514071294,
            "rps": 1553.4732248621617,
            "percent": -73.64781625123899
          }
        },
        {
          "name": "Knex-MySQL2",
          "meta": {},
          "stat": {
            "duration": 10.817896594,
            "cycle": 0,
            "count": 30444,
            "avg": 0.00035533755728550784,
            "rps": 2814.225458291527,
            "percent": -52.26117502352206
          }
        },
        {
          "name": "Knex-MSSQL",
          "meta": {},
          "stat": {
            "duration": 5.463740127,
            "cycle": 0,
            "count": 5373,
            "avg": 0.0010168881680625349,
            "rps": 983.3923054737555,
            "percent": -83.31832546823489
          }
        }
      ]
    }
  ],
  "timestamp": 1619189132412,
  "generated": "Fri Apr 23 2021 16:45:32 GMT+0200 (Central European Summer Time)",
  "elapsedMs": 375809
}