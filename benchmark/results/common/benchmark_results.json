{
  "name": "Moleculer Database benchmark - Common",
  "description": "This is a common benchmark which create, list, get, update, replace and delete entities via service actions.",
  "meta": {
    "type": "common",
    "adapters": [
      {
        "name": "NeDB (memory)",
        "type": "NeDB"
      },
      {
        "name": "NeDB (file)",
        "type": "NeDB",
        "options": "D:\\Work\\moleculer\\database\\benchmark\\suites\\tmp\\common.db"
      },
      {
        "name": "MongoDB",
        "ref": true,
        "type": "MongoDB",
        "options": {
          "dbName": "bench_test",
          "collection": "users"
        }
      },
      {
        "name": "Knex SQLite (memory)",
        "type": "Knex",
        "options": {
          "knex": {
            "client": "sqlite3",
            "connection": {
              "filename": ":memory:"
            },
            "useNullAsDefault": true,
            "log": {}
          }
        }
      },
      {
        "name": "Knex SQLite (file)",
        "type": "Knex",
        "options": {
          "knex": {
            "client": "sqlite3",
            "connection": {
              "filename": "D:\\Work\\moleculer\\database\\benchmark\\suites\\tmp\\common.sqlite3"
            },
            "useNullAsDefault": true,
            "pool": {
              "min": 1,
              "max": 1
            },
            "log": {}
          }
        }
      }
    ],
    "count": 1000
  },
  "suites": [
    {
      "name": "Entity creation",
      "description": "This test calls the `create` action to create an entity.",
      "meta": {
        "type": "create"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.0343227,
            "cycle": 0,
            "count": 87000,
            "avg": 0.00005786577816091954,
            "rps": 17281.371335214568,
            "percent": 385.1065268422305
          }
        },
        {
          "name": "NeDB (file)",
          "meta": {},
          "stat": {
            "duration": 5.0408435,
            "cycle": 0,
            "count": 11000,
            "avg": 0.0004582585,
            "rps": 2182.1744713955113,
            "percent": -38.7440349351585
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.052792,
            "cycle": 0,
            "count": 18000,
            "avg": 0.0002807106666666667,
            "rps": 3562.3868942161084,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.011854,
            "cycle": 0,
            "count": 16000,
            "avg": 0.000313240875,
            "rps": 3192.4313836755823,
            "percent": -10.385045800083816
          }
        },
        {
          "name": "Knex SQLite (file)",
          "meta": {},
          "stat": {
            "duration": 157.2999915,
            "cycle": 0,
            "count": 1000,
            "avg": 0.1572999915,
            "rps": 6.357279428079308,
            "percent": -99.82154438535575
          }
        }
      ]
    },
    {
      "name": "Entity finding",
      "description": "This test calls the `find` action to get random 20 entities.",
      "meta": {
        "type": "find"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.0632883,
            "cycle": 0,
            "count": 20000,
            "avg": 0.00025316441499999997,
            "rps": 3950.002214963742,
            "percent": 101.57551763347149
          }
        },
        {
          "name": "NeDB (file)",
          "meta": {},
          "stat": {
            "duration": 5.1947435,
            "cycle": 0,
            "count": 20000,
            "avg": 0.000259737175,
            "rps": 3850.0457241055306,
            "percent": 96.47456318103093
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.1031748,
            "cycle": 0,
            "count": 10000,
            "avg": 0.00051031748,
            "rps": 1959.5644656342167,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.29846,
            "cycle": 0,
            "count": 17000,
            "avg": 0.00031167411764705883,
            "rps": 3208.4794449708024,
            "percent": 63.73431449892985
          }
        },
        {
          "name": "Knex SQLite (file)",
          "meta": {},
          "stat": {
            "duration": 5.2192602,
            "cycle": 0,
            "count": 15000,
            "avg": 0.00034795067999999997,
            "rps": 2873.9705293865213,
            "percent": 46.66373981507954
          }
        }
      ]
    },
    {
      "name": "Entity listing",
      "description": "This test calls the `users.list` service action to random 20 entities.",
      "meta": {
        "type": "list"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "stat": {
            "duration": 5.41852,
            "cycle": 0,
            "count": 5000,
            "avg": 0.001083704,
            "rps": 922.7611967843618,
            "percent": 5.195243350582814
          }
        },
        {
          "name": "NeDB (file)",
          "meta": {},
          "stat": {
            "duration": 5.7843795,
            "cycle": 0,
            "count": 5000,
            "avg": 0.0011568759,
            "rps": 864.3969504421348,
            "percent": -1.4583102647397084
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.7000253,
            "cycle": 0,
            "count": 5000,
            "avg": 0.0011400050600000001,
            "rps": 877.1890889677279,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.3600016,
            "cycle": 0,
            "count": 12000,
            "avg": 0.0004466668,
            "rps": 2238.8053018491637,
            "percent": 155.2249372462874
          }
        },
        {
          "name": "Knex SQLite (file)",
          "meta": {},
          "stat": {
            "duration": 5.2304556,
            "cycle": 0,
            "count": 10000,
            "avg": 0.00052304556,
            "rps": 1911.8793399183046,
            "percent": 117.95521216163274
          }
        }
      ]
    },
    {
      "name": "Entity counting",
      "description": "This test calls the `users.count` service action to get the number of entities.",
      "meta": {
        "type": "count"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "stat": {
            "duration": 5.3005301,
            "cycle": 0,
            "count": 6000,
            "avg": 0.0008834216833333333,
            "rps": 1131.9622541149233,
            "percent": -32.35523870842026
          }
        },
        {
          "name": "NeDB (file)",
          "meta": {},
          "stat": {
            "duration": 5.2853515,
            "cycle": 0,
            "count": 6000,
            "avg": 0.0008808919166666667,
            "rps": 1135.2130506362728,
            "percent": -32.16097485033241
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.3782964,
            "cycle": 0,
            "count": 9000,
            "avg": 0.0005975884888888889,
            "rps": 1673.3923403700844,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.0103527,
            "cycle": 0,
            "count": 39000,
            "avg": 0.00012847058205128206,
            "rps": 7783.883158564865,
            "percent": 365.15589744144495
          }
        },
        {
          "name": "Knex SQLite (file)",
          "meta": {},
          "stat": {
            "duration": 5.0906436,
            "cycle": 0,
            "count": 30000,
            "avg": 0.00016968812,
            "rps": 5893.164471384325,
            "percent": 252.16872512282464
          }
        }
      ]
    },
    {
      "name": "Entity getting",
      "description": "This test calls the `users.get` service action to get a random entity.",
      "meta": {
        "type": "get"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "stat": {
            "duration": 5.0038891,
            "cycle": 0,
            "count": 160000,
            "avg": 0.000031274306875,
            "rps": 31975.129105079486,
            "percent": 689.3633278924891
          }
        },
        {
          "name": "NeDB (file)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.0267698,
            "cycle": 0,
            "count": 162000,
            "avg": 0.000031029443209876545,
            "rps": 32227.45549239195,
            "percent": 695.5924566678414
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.1842261,
            "cycle": 0,
            "count": 21000,
            "avg": 0.0002468679095238095,
            "rps": 4050.749252622296,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.098616,
            "cycle": 0,
            "count": 34000,
            "avg": 0.00014995929411764706,
            "rps": 6668.476308080468,
            "percent": 64.62328058848763
          }
        },
        {
          "name": "Knex SQLite (file)",
          "meta": {},
          "stat": {
            "duration": 5.0179153,
            "cycle": 0,
            "count": 26000,
            "avg": 0.00019299674230769233,
            "rps": 5181.434608910198,
            "percent": 27.91299302359782
          }
        }
      ]
    },
    {
      "name": "Entity resolving",
      "description": "This test calls the `users.resolve` service action to resolve a random entity.",
      "meta": {
        "type": "resolve"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "stat": {
            "duration": 5.0113246,
            "cycle": 0,
            "count": 162000,
            "avg": 0.0000309341024691358,
            "rps": 32326.782423952343,
            "percent": 715.3717575987793
          }
        },
        {
          "name": "NeDB (file)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.0167763,
            "cycle": 0,
            "count": 164000,
            "avg": 0.0000305900993902439,
            "rps": 32690.31549204217,
            "percent": 724.5410771056305
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.0445587,
            "cycle": 0,
            "count": 20000,
            "avg": 0.000252227935,
            "rps": 3964.667910396206,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.0685843,
            "cycle": 0,
            "count": 34000,
            "avg": 0.0001490760088235294,
            "rps": 6707.987474924704,
            "percent": 69.1941828806122
          }
        },
        {
          "name": "Knex SQLite (file)",
          "meta": {},
          "stat": {
            "duration": 5.0584621,
            "cycle": 0,
            "count": 27000,
            "avg": 0.00018735044814814815,
            "rps": 5337.590648351404,
            "percent": 34.62894671089856
          }
        }
      ]
    },
    {
      "name": "Entity updating",
      "description": "This test calls the `users.update` service action to update a entity.",
      "meta": {
        "type": "update"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.0405103,
            "cycle": 0,
            "count": 47000,
            "avg": 0.0001072449,
            "rps": 9324.452724558463,
            "percent": 432.07220110233675
          }
        },
        {
          "name": "NeDB (file)",
          "meta": {},
          "stat": {
            "duration": 5.2575481,
            "cycle": 0,
            "count": 11000,
            "avg": 0.0004779589181818182,
            "rps": 2092.230026388156,
            "percent": 19.386892532661747
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.1355827,
            "cycle": 0,
            "count": 9000,
            "avg": 0.0005706203,
            "rps": 1752.478837503678,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.3041994,
            "cycle": 0,
            "count": 12000,
            "avg": 0.00044201661666666667,
            "rps": 2262.3583872054282,
            "percent": 29.09476216146777
          }
        },
        {
          "name": "Knex SQLite (file)",
          "meta": {},
          "stat": {
            "duration": 71.6962933,
            "cycle": 0,
            "count": 1000,
            "avg": 0.07169629329999999,
            "rps": 13.947722454990572,
            "percent": -99.20411464284166
          }
        }
      ]
    },
    {
      "name": "Entity replacing",
      "description": "This test calls the `users.replace` service action to replace a random entity.",
      "meta": {
        "type": "replace"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "fastest": true,
          "stat": {
            "duration": 5.0082163,
            "cycle": 0,
            "count": 48000,
            "avg": 0.00010433783958333333,
            "rps": 9584.250584384705,
            "percent": 461.718113759051
          }
        },
        {
          "name": "NeDB (file)",
          "meta": {},
          "stat": {
            "duration": 5.1665155,
            "cycle": 0,
            "count": 11000,
            "avg": 0.00046968322727272726,
            "rps": 2129.0945512502576,
            "percent": 24.782941014865628
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "reference": true,
          "stat": {
            "duration": 5.2747609,
            "cycle": 0,
            "count": 9000,
            "avg": 0.0005860845444444445,
            "rps": 1706.2384761364253,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.0431402,
            "cycle": 0,
            "count": 11000,
            "avg": 0.00045846729090909087,
            "rps": 2181.180685795727,
            "percent": 27.835628858560966
          }
        },
        {
          "name": "Knex SQLite (file)",
          "meta": {},
          "stat": {
            "duration": 76.26535,
            "cycle": 0,
            "count": 1000,
            "avg": 0.07626535,
            "rps": 13.112114479249096,
            "percent": -99.23151923587258
          }
        }
      ]
    },
    {
      "name": "Entity deleting",
      "description": "This test calls the `users.remove` service action to delete a random entity.",
      "meta": {
        "type": "remove"
      },
      "tests": [
        {
          "name": "NeDB (memory)",
          "meta": {},
          "stat": {
            "duration": 23.1245227,
            "cycle": 0,
            "count": 162605,
            "avg": 0.00014221286368807848,
            "rps": 7031.712702117739,
            "percent": -2.0565550910157384
          }
        },
        {
          "name": "NeDB (file)",
          "meta": {},
          "stat": {
            "duration": 17.936728,
            "cycle": 0,
            "count": 68644,
            "avg": 0.0002613007400501136,
            "rps": 3827.0079135949436,
            "percent": -46.69430412898616
          }
        },
        {
          "name": "MongoDB",
          "meta": {},
          "fastest": true,
          "reference": true,
          "stat": {
            "duration": 9.5480653,
            "cycle": 0,
            "count": 68549,
            "avg": 0.000139288177799822,
            "rps": 7179.360199809275,
            "percent": 0
          }
        },
        {
          "name": "Knex SQLite (memory)",
          "meta": {},
          "stat": {
            "duration": 5.5056772,
            "cycle": 0,
            "count": 4826,
            "avg": 0.001140836552009946,
            "rps": 876.5497548603104,
            "percent": -87.79069818946267
          }
        },
        {
          "name": "Knex SQLite (file)",
          "meta": {},
          "stat": {
            "duration": 73.6225822,
            "cycle": 0,
            "count": 1003,
            "avg": 0.07340237507477566,
            "rps": 13.623537371662577,
            "percent": -99.81024023043133
          }
        }
      ]
    }
  ],
  "timestamp": 1620650598171,
  "generated": "Mon May 10 2021 14:43:18 GMT+0200 (GMT+02:00)",
  "elapsedMs": 601562
}